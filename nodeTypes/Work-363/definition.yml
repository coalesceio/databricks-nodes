fileVersion: 1
id: "363"
isDisabled: false
metadata:
  defaultStorageLocation: null
  error: null
  nodeMetadataSpec: |-
    capitalized: Work
    short: WRK
    plural: Works
    tagColor: '#2EB67D'

    config:
        - groupName: Options
          items:
          - type: materializationSelector
            default: table
            options:
            - table
            - view
            isRequired: true
         
          - type: overrideSQLToggle
            enableIf: "{% if node.materializationType == 'view' %} true {% else %} false {% endif %}"

          - type: multisourceToggle
            enableIf: "{% if node.override.create.enabled %} false {% else %} true {% endif %}" 
            
          - displayName: Multi Source Strategy
            attributeName: insertStrategy
            type: dropdownSelector
            default: INSERT
            options:
            - "INSERT"
            - "UNION"
            - "UNION ALL"
            isRequired: true
            enableIf: "{% if node.isMultisource %} true {% else %} false {% endif %}"

          - displayName: Truncate Before
            attributeName: truncateBefore
            type: toggleButton
            default: true
            enableIf: "{% if node.materializationType == 'view' %} false {% else %} true {% endif %}"

          - displayName: Enable Tests
            attributeName: testsEnabled
            type: toggleButton
            default: false
            enableIf: "{% if node.materializationType == 'view' %} false {% else %} true {% endif %}"
            
          - displayName: Distinct
            attributeName: selectDistinct
            type: toggleButton
            enableIf: "{% if config.groupByAll or  node.override.create.enabled %} false {% else %} true {% endif %}"
            default: false
            

          - displayName: Group By All
            attributeName: groupByAll
            type: toggleButton
            default: false
            enableIf: "{% if config.selectDistinct or  node.override.create.enabled %} false {% else %} true {% endif %}"    

          - displayName: Order By
            attributeName: orderby
            type: toggleButton
            default: false
            enableIf: "{% if node.materializationType == 'view' %} false {% else %} true {% endif %}"

          - type: tabular
            displayName: 'Sort column'
            attributeName: orderbycolumn
            columns:

              -  type: columnDropdownSelector
                 displayName: Column Name
                 attributeName: sortColName

              -  type: dropdownSelector
                 displayName: Sort Order
                 attributeName: sortOrder
                 default: desc
                 options:
                 - desc
                 - asc
               
            isRequired: true
            enableIf: "{% if config.orderby %} true {% else %} false {% endif %}"

          - displayName: Pre-SQL
            attributeName: preSQL
            type: textBox
            syntax: sql
            isRequired: false
            enableIf: "{% if node.materializationType == 'view' %} false {% else %} true {% endif %}"

          - displayName: Post-SQL
            attributeName: postSQL
            type: textBox
            syntax: sql
            isRequired: false
            enableIf: "{% if node.materializationType == 'view' %} false {% else %} true {% endif %}"
name: Work
type: NodeType
