fileVersion: 1
id: "369"
isDisabled: false
metadata:
  defaultStorageLocation: null
  error: null
  nodeMetadataSpec: |
    capitalized: dlt
    short: dlt
    plural: Delta Live Tables
    tagColor: '#35D491'

    isColumnResyncEnabled: true

    config:
    - groupName: Options
      items:
      - displayName: Type of Delta Live Table
        attributeName: DLTtype
        type: dropdownSelector
        default: STREAMING TABLE
        options:
        - STREAMING TABLE
        - MATERIALIZED VIEW
        isRequired: true

      - displayName: Read from files
        attributeName: readfiles
        type: toggleButton
        default: false

      - displayName: File location
        attributeName: fileloc
        type: textBox
        enableIf: "{% if config.readfiles %} true {% else %} false {% endif %}"
        isRequired: false

      - displayName: File format
        attributeName: fileformat
        type: dropdownSelector
        options:
        - csv
        - json
        enableIf: "{% if config.readfiles %} true {% else %} false {% endif %}"
        isRequired: false
      
      - displayName: Delimiter
        attributeName: delimiter
        type: textBox
        enableIf: "{% if config.readfiles and config.fileformat == 'csv' %} true {% else %} false {% endif %}"
        isRequired: false
        
      - displayName: Header
        attributeName: header
        type: toggleButton
        enableIf: "{% if config.readfiles and config.fileformat == 'csv' %} true {% else %} false {% endif %}"
        isRequired: false
      
      - type: toggleButton
        attributeName: constraints
        displayName: Table constraints
        default: false
        isRequired: false

      - type: tabular
        displayName: 'Constraints'
        attributeName: constraintsspec
        columns:

        -  type: columnDropdownSelector
           displayName: ColumnName
           attributeName: columnName
           isRequired: false
      
        -  type: textBox
           displayName: Expected Expression
           attributeName: sqlExpression
           default: "<column_name> IS NOT NULL"
           isRequired: false
        
        -  type: dropdownSelector
           displayName: ON VIOLATION
           attributeName: onviolation
           default: DROP ROW
           options:
           - FAIL UPDATE
           - DROP ROW 
      
        isRequired: false
        enableIf: "{% if (config.constraints) %} true {% else %} false {% endif %}"
      
      - displayName: Table properties
        attributeName: tblproperties
        type: textBox
      
name: DLTBase
type: NodeType
